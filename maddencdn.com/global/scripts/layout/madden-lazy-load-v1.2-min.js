!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.MMLazyLoad=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function n(e){console.log("test"),a(),w=Math.max(document.documentElement.clientHeight,window.innerHeight||0),A=window.pageYOffset;for(var t=0;t<L.length;t++)d(L[t],p.debug)}function l(e){A=window.pageYOffset+w;for(var t=0;t<y.length;t++){var o=Math.max(y[t].getBoundingClientRect().top+window.pageYOffset),n=0;switch(y[t].getAttribute("data-load-offset")?y[t].getAttribute("data-load-offset"):"sm"){case"lg":n=p.preloadDistanceLg;break;case"md":n=p.preloadDistanceMd;break;case"sm":n=p.preloadDistanceSm}o-n<=A&&(d(y[t],p.debug),L.push(y[t]),y.splice(t,1))}}function a(){var e=window.getComputedStyle?getComputedStyle(s,null):s.currentStyle,t=window.getComputedStyle?getComputedStyle(r,null):r.currentStyle,o=window.getComputedStyle?getComputedStyle(u,null):u.currentStyle;g=!(!s||"none"==e.getPropertyValue("float")),c=!(!r||"none"==t.getPropertyValue("float")),!(!u||"none"==o.getPropertyValue("float"))}function d(e,t){var o=!1;(o=e.getAttribute("data-load-all")?e.getAttribute("data-load-all"):g?e.getAttribute("data-load-sm"):c?e.getAttribute("data-load-md"):e.getAttribute("data-load-lg"))?"img"==e.getAttribute("data-load-type")?(e.setAttribute("src",o),e.getAttribute("data-load-alt")&&e.setAttribute("alt",e.getAttribute("data-load-alt")),t&&console.log("LAZYLOAD img: "+o)):"class"!=e.getAttribute("data-load-type")||e.classList.contains(o)?"bg"==e.getAttribute("data-load-type")?(e.style.backgroundImage="url('"+o+"')",t&&console.log("LAZYLOAD bg: "+o)):"poster"==e.getAttribute("data-load-type")&&(e.setAttribute("poster",o),t&&console.log("LAZYLOAD poster: "+o)):(e.classList.add(o),t&&console.log("LAZYLOAD class: "+o)):t&&(console.log("LAZYLOAD not loading: no size found for this view"),console.log(e))}var i=/bot|google|baidu|bing|msn|duckduckgo|teoma|slurp|yandex/i.test(navigator.userAgent),s=null,r=null,u=null,g=!1,c=!1,m={},f=!!document.querySelector&&!!e.addEventListener,p={},b={loadElements:null,preloadDistanceLg:1e3,preloadDistanceMd:600,preloadDistanceSm:250,debug:!1},w=Math.max(document.documentElement.clientHeight,window.innerHeight||0),A=window.pageYOffset,y=[],L=[];return m.init=function(e){if(f){for(var t in m.destroy(),p=e,b)void 0===p[t]&&(p[t]=b[t]);if(s=document.getElementById("isSmall"),r=document.getElementById("isMedium"),u=document.getElementById("isLarge"),null!=p.loadElements){if(s&&r&&u){a();for(var o=0;o<p.loadElements.length;o++)i||p.loadElements[o].getAttribute("data-load-onload")?(d(p.loadElements[o],p.debug),L.push(p.loadElements[o])):y.push(p.loadElements[o]);return window.addEventListener("resize",n,!1),window.addEventListener("orientationchange",n,!1),window.addEventListener("scroll",l,!1),m}console.log("LAZYLOAD: Missing one or more size testers. Exiting now.")}else console.log("LAZYLOAD: No elements provided - please do so during config with 'loadElements'. Exiting now.")}},m.destroy=function(){p&&(window.removeEventListener("resize",n,!1),window.removeEventListener("orientationchange",n,!1),window.removeEventListener("scroll",l,!1),p=null)},m.getDebugMode=function(){if(p)return p.debug},m.setDebugMode=function(e){p&&(p.debug=e)},m});