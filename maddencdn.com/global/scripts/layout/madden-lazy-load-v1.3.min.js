!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.MMLazyLoad=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t=/bot|google|baidu|bing|msn|duckduckgo|teoma|slurp|yandex/i.test(navigator.userAgent),o=null,n=null,l=null,a=!1,d=!1,i={},r=!!document.querySelector&&!!e.addEventListener,s={},u={loadElements:null,preloadDistanceLg:1e3,preloadDistanceMd:600,preloadDistanceSm:250,debug:!1},g=Math.max(document.documentElement.clientHeight,window.innerHeight||0),c=window.pageYOffset,m=[],f=[];function p(e){w(),g=Math.max(document.documentElement.clientHeight,window.innerHeight||0),c=window.pageYOffset;for(var t=0;t<f.length;t++)A(f[t],s.debug)}function b(e){c=window.pageYOffset+g;for(var t=0;t<m.length;t++){var o=Math.max(m[t].getBoundingClientRect().top+window.pageYOffset),n=m[t].getAttribute("data-load-offset")?m[t].getAttribute("data-load-offset"):"sm",l=0,a=m[t].getAttribute("data-load-manual");switch(n){case"lg":l=s.preloadDistanceLg;break;case"md":l=s.preloadDistanceMd;break;case"sm":l=s.preloadDistanceSm}!a&&c>=o-l&&(A(m[t],s.debug),f.push(m[t]),m.splice(t,1))}}function w(){var e=window.getComputedStyle?getComputedStyle(o,null):o.currentStyle,t=window.getComputedStyle?getComputedStyle(n,null):n.currentStyle,i=window.getComputedStyle?getComputedStyle(l,null):l.currentStyle;a=!(!o||"none"==e.getPropertyValue("float")),d=!(!n||"none"==t.getPropertyValue("float")),!(!l||"none"==i.getPropertyValue("float"))}function A(e,t){var o=!1;(o=e.getAttribute("data-load-all")?e.getAttribute("data-load-all"):a?e.getAttribute("data-load-sm"):d?e.getAttribute("data-load-md"):e.getAttribute("data-load-lg"))?"img"==e.getAttribute("data-load-type")?(e.setAttribute("src",o),e.getAttribute("data-load-alt")&&e.setAttribute("alt",e.getAttribute("data-load-alt")),t&&console.log("LAZYLOAD img: "+o)):"class"!=e.getAttribute("data-load-type")||e.classList.contains(o)?"bg"==e.getAttribute("data-load-type")?(e.style.backgroundImage="url('"+o+"')",t&&console.log("LAZYLOAD bg: "+o)):"poster"==e.getAttribute("data-load-type")&&(e.setAttribute("poster",o),t&&console.log("LAZYLOAD poster: "+o)):(e.classList.add(o),t&&console.log("LAZYLOAD class: "+o)):t&&(console.log("LAZYLOAD not loading: no size found for this view"),console.log(e))}return i.init=function(e){if(r){for(var a in i.destroy(),s=e,u)void 0===s[a]&&(s[a]=u[a]);if(o=document.getElementById("isSmall"),n=document.getElementById("isMedium"),l=document.getElementById("isLarge"),null!=s.loadElements){if(o&&n&&l){w();for(var d=0;d<s.loadElements.length;d++)t||s.loadElements[d].getAttribute("data-load-onload")?(A(s.loadElements[d],s.debug),f.push(s.loadElements[d])):m.push(s.loadElements[d]);return window.addEventListener("resize",p,!1),window.addEventListener("orientationchange",p,!1),window.addEventListener("scroll",b,!1),i}console.log("LAZYLOAD: Missing one or more size testers. Exiting now.")}else console.log("LAZYLOAD: No elements provided - please do so during config with 'loadElements'. Exiting now.")}},i.destroy=function(){s&&(window.removeEventListener("resize",p,!1),window.removeEventListener("orientationchange",p,!1),window.removeEventListener("scroll",b,!1),s=null)},i.getDebugMode=function(){if(s)return s.debug},i.setDebugMode=function(e){s&&(s.debug=e)},i.manual=function(e){for(let t=0;t<m.length;t++)m[t].getAttribute("id")===e&&(A(m[t],s.debug),f.push(m[t]),m.splice(t,1))},i});